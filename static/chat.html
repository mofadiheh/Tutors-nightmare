<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Tutor - Chat</title>
    <link rel="stylesheet" href="/static/chat.css">
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <button id="homeButton" class="icon-button" title="Back to home">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </button>
            
            <div class="header-title">
                <h1>Language Tutor</h1>
                <div class="status-indicator" id="statusIndicator">
                    <span class="status-dot"></span>
                    <span class="status-text">Ready</span>
                </div>
            </div>

            <div class="header-actions">
                <button id="languageToggle" class="header-button" title="Toggle language">
                    <span id="currentLang">ES</span>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="17 1 21 5 17 9"></polyline>
                        <path d="M3 11V9a4 4 0 0 1 4-4h14"></path>
                        <polyline points="7 23 3 19 7 15"></polyline>
                        <path d="M21 13v2a4 4 0 0 1-4 4H3"></path>
                    </svg>
                    <span id="targetLang">EN</span>
                </button>
                
                <button id="insightsButton" class="header-button insights-button" title="View Insights">
                    <span>ğŸ“Š</span>
                    <span class="button-text">Insights</span>
                </button>
                
                <button id="tutorModeButton" class="header-button tutor-button" title="Tutor Mode">
                    <span>ğŸ’¡</span>
                    <span class="button-text">Tutor</span>
                </button>
            </div>
        </div>
        
        <div class="messages-container" id="messagesContainer">
            <div class="welcome-message">
                <p>ğŸ‘‹ Welcome! I'm your language tutor. Start chatting to practice your language skills.</p>
            </div>
        </div>
        
        <!-- Insights Modal -->
        <div id="insightsModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>ğŸ“Š Learning Insights</h2>
                    <button id="closeInsights" class="close-button">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="insights-section">
                        <h3>ğŸ”‘ Key Vocabulary</h3>
                        <div id="vocabularyList" class="insight-content">
                            <p class="placeholder-text">Continue chatting to discover new vocabulary!</p>
                        </div>
                    </div>
                    <div class="insights-section">
                        <h3>ğŸ“ Sentence Patterns</h3>
                        <div id="patternsList" class="insight-content">
                            <p class="placeholder-text">Keep practicing to identify common sentence structures!</p>
                        </div>
                    </div>
                    <div class="insights-section">
                        <h3>ğŸ’ª Progress</h3>
                        <div id="progressStats" class="insight-content">
                            <p class="placeholder-text">Your learning stats will appear here as you chat more.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="input-container">
            <form id="chatForm" class="chat-form">
                <input 
                    type="text" 
                    id="messageInput" 
                    class="message-input" 
                    placeholder="Type your message..." 
                    autocomplete="off"
                    required
                />
                <button type="submit" class="send-button" id="sendButton">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="22" y1="2" x2="11" y2="13"></line>
                        <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                    </svg>
                </button>
            </form>
        </div>
    </div>
    <script src="/static/chat.js"></script>
</body>
</html>
